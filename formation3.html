<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="pandoc" />

    
    
    <title> Palettes de couleurs et styles</title>

        <script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
        <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="site_libs/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
        <script src="site_libs/bootstrap-3.3.7/js/bootstrap.min.js"></script>
        <script src="site_libs/navigation-1.1/tabsets.js"></script>
        <link href="site_libs/downcute-0.1/downcute.css" rel="stylesheet" />
        <link href="site_libs/downcute-0.1/downcute_fonts_embed.css" rel="stylesheet" />
        <link href="site_libs/downcute-0.1/downcute_chaos.css" rel="stylesheet" />
        <script src="site_libs/downcute-0.1/downcute_styles.js"></script>
        <script src="site_libs/downcute-0.1/downcute.js"></script>
        <script src="site_libs/prism-1.22/prism.js"></script>
        <link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
        <link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
    
    
    
    
    <!-- tabsets -->
    <script>
      $(document).ready(function () {
	  window.buildTabsets("toc");
      });
      $(document).ready(function () {
	  $('.tabset-dropdown > .nav-tabs > li').click(function () {
	      $(this).parent().toggleClass('nav-tabs-open')
	  });
      });
    </script>

    <!-- code folding -->
    
    <!-- code download -->
    
    <!-- tabsets dropdown -->

    <style type="text/css">
      .tabset-dropdown > .nav-tabs {
	  display: inline-table;
	  max-height: 500px;
	  min-height: 44px;
	  overflow-y: auto;
	  background: white;
	  border: 1px solid #ddd;
	  border-radius: 4px;
      }
      
      .tabset-dropdown > .nav-tabs > li.active:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
	  content: "&#xe258;";
	  border: none;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs > li.active {
	  display: block;
      }

      .tabset-dropdown > .nav-tabs > li.active a {
  	  padding: 0 15px !important;
      }

      .tabset-dropdown > .nav-tabs > li > a,
      .tabset-dropdown > .nav-tabs > li > a:focus,
      .tabset-dropdown > .nav-tabs > li > a:hover {
	  border: none;
	  display: inline-block;
	  border-radius: 4px;
	  background-color: transparent;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li {
	  display: block;
	  float: none;
      }
      
      .tabset-dropdown > .nav-tabs > li {
	  display: none;
	  margin-left: 0 !important;
      }
    </style>
    
</head>

<body class="preload">

   	
               <!-- downcute start -->   
   <div id="docute" class="Root theme-chaos">
     <div class="Page layout-narrow">
      <div class="Wrap">
        <div class="Sidebar">
          <div class="SidebarItems" id="toc">
            <ul>
            <li><a href="#couleurs-et-palettes-de-couleurs"><span class="toc-section-number">1</span> <strong>Couleurs et palettes de couleurs</strong></a>
            <ul>
            <li><a href="#les-palettes-usines"><span class="toc-section-number">1.1</span> <strong>Les palettes usines</strong></a></li>
            <li><a href="#colorpalette-ben-jann"><span class="toc-section-number">1.2</span> <strong>Colorpalette (Ben Jann)</strong></a></li>
            <li><a href="#exemples-de-palettes"><span class="toc-section-number">1.3</span> <strong>Exemples de palettes</strong></a></li>
            </ul></li>
            <li><a href="#styles-thèmes"><span class="toc-section-number">2</span> <strong>Styles-thèmes</strong></a>
            <ul>
            <li><a href="#styles-internes-externes"><span class="toc-section-number">2.1</span> <strong>Styles internes-externes</strong></a></li>
            <li><a href="#grstyle-de-b.jann"><span class="toc-section-number">2.2</span> <strong>grstyle de B.Jann</strong></a></li>
            </ul></li>
            </ul>
          </div>
          <div data-position="sidebar:post-end" class="InjectedComponents"><div class="dark-theme-toggler"><div class="toggle "><div class="toggle-track"><div class="toggle-track-check"><img  src="data:image/png;base64,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" role="presentation" style="pointer-events: none;" width="16" height="16"></div> <div class="toggle-track-x"><img src="data:image/png;base64,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" role="presentation" style="pointer-events: none;" width="16" height="16"></div></div> <div class="toggle-thumb"></div></div> <input type="checkbox" aria-label="Switch between Dark and Default theme" class="toggler-screen-reader-only"></div></div>
        </div>
        <div class="Main">
          <div class="Content" id="content"> 
   
   
      
      <div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">Graphiques</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li>
        <a href="https://mthevenin.github.io/stata_fr/index.html">Retour Stata-Ined</a>
      </li>
      <li>
        <a href="formation.html">Formation</a>
      </li>
      <li>
        <a href="mailto:marc.thevenin@ined.fr">
          <span class="fa fa-envelope-o"></span>
           
          Contact
        </a>
      </li>
      <li>
        <a href="https://github.com/mthevenin">
          <span class="fa fa-github"></span>
           
          GitHub
        </a>
      </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container -->
      </div><!--/.navbar -->
        
      <h1 class="title"><br>Palettes de couleurs et styles</h1>
      
      <p class="authors">
              

   
      
   
<!-- Don't indent these lines or it will mess pre blocks indentation --> 
<div class="page-content has-page-title">
<style>div.blue pre { background-color:#4682B4; }</style>
<style>div.grey pre { background-color:#505050 ;  color:#FBA139}</style>
<p><br> Lorsqu’ils sont générés, les graphiques appliquent un thème/style par défaut:</p>
<ul>
<li><p>Ces thèmes sont appelés scheme.</p></li>
<li><p>Les options de la commande graphique visent à modifier les paramètres du thème.</p></li>
<li><p>Les paramètres du style/thèmes sont appliqués aux couleurs, tailles/épaisseurs, positions des éléments de texte, définitions des axes….</p></li>
<li><p>Stata dispose de 5 thèmes officiels. Des thèmes externes ont été programmés et peuvent être installés. La série de commandes associées à <strong><code>grstyle</code></strong> (<em>Ben Jann</em>) permet de paramétrer très facilement un thème, a minima en 2-3 lignes avec un nombre très réduit d’arguments.</p></li>
<li><p>Collection <strong><code>schemepack</code></strong> : récemment (2021), <em>Asjad Naqvi</em> a programmé une suite de thèmes à partir du paquet <code>grstyle</code>. Cette série offre une alternative très séduisante au thèmes usines vieillissants de Stata.</p></li>
<li><p>Les thèmes utilisent des palettes de couleurs. Il existe 3 types de palettes selon la nature des données.</p>
<ul>
<li><strong><em>Palettes qualitatives</em></strong> (variables discrètes).</li>
<li><strong><em>Palettes séquentielles</em></strong> (variables ordonnées/quantitatives).</li>
<li><strong><em>Palettes divergentes</em></strong> (variables ordonnées/quantitatives avec deux sens implicites et une valeur pivot</li>
</ul></li>
<li><p>Des commandes externes permettent d’augmenter le nombre de palettes mises à disposition par Stata, de les modifier ou de les créer.</p></li>
<li><p>Pour la cartographie, la commande <code>spmap</code> (<em>Maurizio Pisatti</em>) intègre une quarantaine de palettes, principalement séquentielles (commande à visée cartographique).</p></li>
<li><p>La librairie <code>brewscheme</code> (William Buchanan) dispose de plusieurs commandes pour générer des palettes de couleurs. Son utilisation est assez complexe.</p></li>
<li><p>La commande **<code>colorpalette</code> (Benn Jann) charge plusieurs dizaines de palettes de couleurs, de tout type, permet de les modifier, d’en créer, et de les utiliser facilement dans la création de graphiques. Elle est indispensable dès lors qu’on souhaite utiliser efficacement des couleurs différentes de celles fournies par le logiciel. Cette commande, à mon sens incontournable, sera longuement traitée dans ce chapitre, ainsi que la commande <code>grstyle</code> qui reprend sa syntaxe pour générer de manière rapide un thème.</p></li>
</ul>
<div id="couleurs-et-palettes-de-couleurs" class="section level1" number="1">
<h1><span class="header-section-number">1</span> <strong>Couleurs et palettes de couleurs</strong></h1>
<div id="les-palettes-usines" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> <strong>Les palettes usines</strong></h2>
<p>Stata dispose de 5 palettes de couleurs usines qui sont associées à des thèmes graphiques. Par exemple la <em>palette s2</em> est associée au <em>thème s2color</em>.</p>
<p>Les palettes associées aux thèmes Stata sont de type qualitative. L’ordre d’utilisation des couleurs dans un graphique composé de plusieurs objets est pensé de tel sorte que des couleurs même type, par exemple le bleu, ne se succède pas.</p>
<p><img src="imgp3/g1.png" style="width:60.0%" /></p>
<p>Les numéros sur l’abscisse correspondent à l’ordre par défaut d’utilisation des couleurs.Les couleurs usines ont un nom, auquel correspond un code RGB.</p>
<p><img src="imgp3/g2.png" style="width:60.0%" /></p>
<p>La palette <strong>mono</strong> d’avère très utile pour modifier les couleurs des titres, labels, grids ou du background. Elle est ambivalente, l’ordre par défaut de la palette est plutôt qualitatif, mais le nom des couleurs correspond à une palette séquentielle appelé « grey scale » (gs# avec # allant de 0 – noir – à 16 – blanc).</p>
<p><img src="imgp3/g3.png" style="width:60.0%" /></p>
<p><img src="imgp3/g4.png" style="width:60.0%" /></p>
<p><em>Remarque</em>: il est facile de générer une couleur appartenant à une palette correspondant à une échelle de gris: les trois valeurs du code RGB étant identique (compris entre 0 et 255).</p>
<p><br> On est vite limité avec les palettes usines de Stata. Malgré les efforts de plusieurs utilisateurs pour augmenter leur nombre (M.Pissatti, F.Briatte, D.Bischoff…), la commande <strong><code>colorpalette</code></strong> (Ben Jann) a récemment permis de démultiplier quasiment à l’infini les possibilités en terme de manipulation des couleurs.</p>
</div>
<div id="colorpalette-ben-jann" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> <strong>Colorpalette (Ben Jann)</strong></h2>
<strong><em>Installation</em></strong>
<div class="grey">
<pre><code>ssc install palettes  [, replace force]
ssc install colrspace [, replace force]</code></pre>
</div>
<strong><em>Syntaxe générique</em></strong>
<div class="grey">
<pre><code> colorpalette nom_palette/collection [, nom_sous_palette] [options]</code></pre>
</div>
<p><em>Remarque</em>: le nom d’une palette peut être une couleur ou une série de couleur</p>
<div class="blue">
<pre><code>* Charge et affiche la palette s1 de Stata 
colorpalette s1 

* Charge et affiche la palette hue 
colorpalette hue 

* Charge et affiche la palette viridis 
colorpalette viridis 

* Charge et affiche la palette summer de la collection matplotlib 
colorpalette matplotlib, summer

* Charge et affiche une palette composée des couleur bleu et rouge
colorpalette blue red</code></pre>
</div>
<p>Pour visualiser les palettes disponibles : <strong><code>help colorpalette</code></strong>.</p>
<p><strong>Exemple : la palette plasma</strong></p>
<ul>
<li>Appartient à la <em><strong>collection viridis</strong>, palettes Python visant à remplacer les palettes de la </em>collection matplotlib* (intégrée à <code>colorpalette</code>)</li>
<li>Longueur par défaut : 15 couleurs</li>
<li>Type : séquentielle</li>
</ul>
<div class="blue">
<pre><code>colorpalette plasma</code></pre>
</div>
<p><img src="imgp3/g5a.png" style="width:60.0%" /></p>
<p><br></p>
<div id="principales-options-et-altération-dune-palette" class="section level3" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> <strong>Principales options et altération d’une palette</strong></h3>
<p><strong>Modifier la taille de la palette: <code>n(#)</code></strong></p>
<p>Important car la réduction de la taille pour certaines palettes ne consiste pas à prendre les # premiers éléments de la palette par défaut (cf palettes <em>hu</em>e ou <em>viridis</em>), mais forcer une palette non qualitative, donc plutôt séquentielle, à produire une palette réduite avec des types de couleurs contrastées plutôt qualitative.</p>
<p><strong>Modifier l’intensité ou l’opacité : intensity(#), opacity(#) et ipolate(#)</strong></p>
<ul>
<li><p>On peut modifier l’intensité (saturation) ou l’opacité d’une palette avec <strong><code>intensity(#)</code> ou </strong><code>intensity(numlist)</code>** et <strong><code>opacity(#)</code></strong>.</p></li>
<li><p>On peut créer une palette séquentielle à partir d’une couleur de départ avec <strong><code>intensity(#1(delta)#2)</code></strong>.</p></li>
<li><p>On peut créer une palette divergente avec des couleurs de départ, d’arrivée et de transition avec <strong><code>ipolate(#)</code></strong>.</p></li>
</ul>
<p><strong>Select – reverse - nograph</strong></p>
<ul>
<li><p>On peut sélectionner des couleurs d’une palette avec <strong><code>select(numlist)</code></strong>. L’option autorise la répétition de couleurs, utile lorsque plusieurs objets graphiques partage une même couleur au sein d’un graphique (exemple nuages de point et courbes pour différentes valeurs d’une variable additionnelle : voir exemple avec <code>grstyle</code>).</p></li>
<li><p>On peut inverser l’ordre des couleurs de la palette: <strong><code>reverse</code></strong>.</p></li>
<li><p>Ne pas afficher la palette: <strong><code>nograph</code></strong> [voir <em>utilisation de colorpalette pour générer un graphique</em>]. Après avoir séléctionné les couleurs, à utiliser systématiquement pour charger la palette avant son utilisation dans un graphique. Cela réduit considérablement le temps d’exécution.</p></li>
</ul>
<p><strong><em>Création d’une palette de 4 couleurs</em></strong></p>
<div class="blue">
<pre><code>colorpalette plasma, n(4)</code></pre>
</div>
<p><img src="imgp3/g5b.png" style="width:60.0%" /></p>
<p><strong><em>Répétition d’une liste de couleur avec select(numlist)</em></strong></p>
<div class="blue">
<pre><code>colorpalette plasma,  select(1 8 15 1 8 15)</code></pre>
</div>
<p><img src="imgp3/g5g.png" style="width:60.0%" /></p>
<p><strong><em>Création d’une palette séquentielle avec augmentation de l’intensité</em></strong></p>
<p>A partir de la couleur 3 (RGB= 237,121,83), création d’une palette sequentielle d’une longueur de 15, allant de “237,121,83<em>0” (proche blanc) à ”237,121,83</em>15”.</p>
<div class="blue">
<pre><code>colorpalette &quot;237 121 83&quot;, intensity(0(.1)1.5)</code></pre>
</div>
<p><img src="imgp3/g5c.png" style="width:60.0%" /></p>
<p><strong><em>Création d’une palette séquentielle avec augmentation de l’intensité</em></strong></p>
<p>Création d’une palette séquentielle d’une longueur 15 allant de la couleur 1 à la couleur 3 de la palette plasma à 4 couleurs.</p>
<div class="blue">
<pre><code>colorpalette &quot;13 8 135&quot; &quot;237 121 83&quot;, ipolate(15)</code></pre>
</div>
<p><img src="imgp3/g5d.png" style="width:60.0%" /></p>
<p>Si on ajoute la couleur 2 de la palette d’origine comme couleur de transition</p>
<div class="blue">
<pre><code>colorpalette &quot;13 8 135&quot; &quot;156 23 158&quot;  &quot;237 121 83&quot;, ipolate(15)</code></pre>
</div>
<p><img src="imgp3/g5e.png" style="width:60.0%" /></p>
<p>Si on utilise le blanc comme couleur de transition, on obtient une palette divergente.</p>
<div class="blue">
<pre><code>colorpalette &quot;13 8 135&quot; white &quot;237 121 83&quot;, ipolate(15)</code></pre>
</div>
<p><img src="imgp3/g5f.png" style="width:60.0%" /></p>
<p><strong>Créer, enregistrer et charger sa propre palette</strong></p>
<p><code>colorpalette</code> permet de conserver en mémoire sa propre palette, en la générant dans un .ado (voir la fin du chapitre dédié aux macros) ou dans le programme principal. Par exemple avec la palette issue du premier exemple (palette plasma à 4 couleur).</p>
<div class="grey">
<pre><code>* Création de la palette mypal
capt program drop colorpalette_mypal
program colorpalette_mypal
c_local P 13 8 135, 156 23 158, 237 121 83, 240 249 33
c_local class qualitative
end

* On charge la palette avec la commande colorpalette_mypal
colorpalette_mypal

* On affiche la palette my_pal
colorpalette my_pal</code></pre>
</div>
</div>
<div id="utilisation-de-colorpalette-pour-générer-un-graphique" class="section level3" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> <strong>Utilisation de colorpalette pour générer un graphique</strong></h3>
<p>On remarque, avec return list, que la commande génère une liste de macros qui enregistre les codes RGB des couleurs de la palette.</p>
<ul>
<li>la macro <code>r(p)</code> permet d’utiliser les couleurs de la palette dans un graphique à un seul bloc d’éléments.</li>
<li>les macros <code>r(p#)</code> permettent d’utiliser les couleurs dans un graphique composé de plusieurs éléments.</li>
</ul>
<p>La commande <code>colorpalette</code> n’est qu’un générateur de couleurs qui renvoie une liste de codes RGB sous forme de macros. Si pour des graphiques simples la technique du « copié/collé » de codes RGB reste possible, l’utilisation des macros va être une nouvelle fois fortement recommandée. On peut déjà néanmoins indiquer qu’avec le générateur de thème **<code>grstyle</code> (voir la section suivante), également programmé par <em>B.Jann</em>, une sélection de couleurs pourra être directement intégrée à un graphique sans manipulation supplémentaire.</p>
<p><strong>Macros générées par <code>colorpalette</code></strong></p>
<p>On va partir de la palette plasma précédente avec 4 couleurs et un % d’opacité de 80%. Avec return list, on affiche sous forme de macros la liste des codes RGB des couleurs</p>
<div class="grey">
<pre><code>colorpalette plasma, n(4) opacity(80) nograph
return list

/*
scalars:
                  r(n) =  4

macros:
            r(ptype) : &quot;color&quot;
            r(pname) : &quot;plasma&quot;
            r(pnote) : &quot;plasma colormap from matplotlib.org&quot;
            r(psource) : &quot;https://github.com/matplotlib/matplotlib/blob/master/lib/matplotlib/_cm_listed.py&quot;
        r(pclass) : &quot;sequential&quot;
        r(p) : &quot;&quot;13 8 135%80&quot; &quot;156 23 158%80&quot; &quot;237 121 83%80&quot; &quot;240 249 33%80&quot;&quot;
                 r(p4) : &quot;240 249 33%80&quot;
                 r(p3) : &quot;237 121 83%80&quot;
                 r(p2) : &quot;156 23 158%80&quot;
                 r(p1) : &quot;13 8 135%80&quot;
*/</code></pre>
</div>
<p>La liste renvoie la macro r(p) qui liste l’ensemble des codes couleurs. Cette macro est utilisée pour les graphiques avec un seul objet qui liste pour l’axe des ordonnées une série de variables.</p>
<strong><em>Exemple</em></strong>
<div class="blue">
<pre><code>sysuse uslifeexp
colorpalette plasma, n(4) opacity(80) nograph
tw line le_wmale le_wfemale le_bmale le_bfemale year, lc(`r(p)&#39;)</code></pre>
</div>
<p>La macro <code>r(p)</code> a déjà deux doubles quotes, on ne doit pas enfermer cette liste par ““.</p>
<p>La liste de macros <code>r(p#)</code> renvoie le code couleur de chaque élément de la palette, ici <code>r(p1)</code> à <code>r(p4)</code>. Ces macros sont utilisées pour les graphiques composés de plusieurs objets. Entrée directement dans la syntaxe d’un graphique, ces macros devront être enfermées dans des doubles quotes.</p>
<p><strong><em>Exemple</em></strong><br />
On va afficher un graphique avec 4 densités sous forme d’aires générées aléatoirement. De nouveau on utilisera la palette plasma réduite à 4 couleurs et 80% d’opacité.</p>
<em>Données</em>
<div class="blue">
<pre><code>clear
set obs 1000

gen y1= rnormal(0,1.5)
gen y2= rnormal(3, 2)
gen y3= rnormal(6, 3)
gen y4= rnormal(9, 4)

forv i=1/4 {
kdensity y`i&#39;, n(500) gen(x`i&#39; d`i&#39;) nograph
}</code></pre>
</div>
<em>Graphique</em> (sans macros empilées pour faciliter la lisibilité du programme)
<div class="blue">
<pre><code>Colorpalette plasma , n(4) opacity(80) nograph

local ops lc(black) lw(*.5)

#delimit ;
tw line d1 x1,  recast(area) `ops&#39; fc(&quot;`r(p1)&#39;&quot;)  
|| line d2 x2,  recast(area) `ops&#39; fc(&quot;`r(p2)&#39;&quot;)
|| line d3 x3,  recast(area) `ops&#39; fc(&quot;`r(p3)&#39;&quot;) 
|| line d4 x4,  recast(area) `ops&#39; fc(&quot;`r(p4)&#39;&quot;)

||, legend(order(1 &quot;r(p1)&quot; 2 &quot;r(p2)&quot; 3 &quot;r(p3)&quot; 4 &quot;r(p4)&quot;) pos(11) row(1) region(color(%0))) 
;</code></pre>
</div>
<p><img src="imgp3/g6a.png" style="width:60.0%" /></p>
<p>Sans modifier la syntaxe du graphique, on peut alors simplement changer de palette, en modifiant son nom et/ou en modifiant une ou plusieurs options comme l’opacité.</p>
<p><strong><em>Exemple</em></strong>: <em>palette winte</em>r de la collection <em>matplotlib</em>, avec 50% d’opacité et en inversant l’ordre des couleurs.</p>
<div class="blue">
<pre><code>colorpalette plasma , n(4) opacity(80) nograph

local ops lc(black) lw(*.5)

#delimit ;
tw line d1 x1,  recast(area) `ops&#39; fc(&quot;`r(p1)&#39;&quot;)  
|| line d2 x2,  recast(area) `ops&#39; fc(&quot;`r(p2)&#39;&quot;)
|| line d3 x3,  recast(area) `ops&#39; fc(&quot;`r(p3)&#39;&quot;) 
|| line d4 x4,  recast(area) `ops&#39; fc(&quot;`r(p4)&#39;&quot;)

||, legend(order(1 &quot;`r(p1)&#39;&quot; 2 &quot;`r(p2)&#39;&quot; 3 &quot;`r(p3)&#39;&quot; 4 &quot;`r(p4)&#39;&quot;) 
    pos(11) row(1) region(color(%0))) 
;</code></pre>
</div>
<p><em>Remarque : en utilisant les macros dans la légende, on a affiché les codes couleurs</em></p>
<p><img src="imgp3/g6b.png" style="width:60.0%" /></p>
</div>
</div>
<div id="exemples-de-palettes" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> <strong>Exemples de palettes</strong></h2>
<p>Sur le même principe que les deux graphiques précédents mais avec 6 éléments, on a mis à disposition une petite commande, <strong><code>testpal</code></strong>, qui permet de tester le rendu d’un graphique. La commande reporte 6 objets graphiques sous la forme de densités représentées par des aires et par des groupes. Les deux graphiques de la première colonne sont sur un fond blanc, ceux de la deuxième colonne sont sur un fond paramétrable (palette gs) par défaut très sombre.</p>
<strong><em>Installation</em></strong>
<div class="grey">
<pre><code>net install testpal, from(&quot;https://mthevenin.github.io/stata_fr/ado/testpal/&quot;) replace</code></pre>
</div>
<strong><em>Syntaxe</em></strong>
<div class="grey">
<pre><code>testpal nom_palette , [rev] [op(#)] [bf(#)]</code></pre>
</div>
<ul>
<li><code>rev</code>: inverse l’ordre des couleurs de la palette.</li>
<li><code>op(#)</code>: modifie le pourcentage d’opacité des couleurs. Par défaut 100% (op(100)). # est compris entre 0+ et 100.</li>
<li><code>bf(#)</code>: permet de modifier la clarté des graphiques de la seconde colonne (blanc pour la première). # est une valeur comprise entre 1 (noir) et 14 (presque blanc).</li>
</ul>
<strong><em>Exemple avec la palette qualitative burd (François Briatte)</em></strong><br />

<div class="blue">
<pre><code>testpal burd, rev op(100) bf(5)</code></pre>
<p><img src="imgp3/g7a.png" style="width:60.0%" /></p>
<p>Pour les quelques palettes populaires qui vont être rapidement présentées, les options de la commande <code>testpal</code> n’ont pas été modifiées. Le nom de la palette est donné par le titre du graphique.</p>
<p><br></p>
<div id="palettes-qualitatives" class="section level3" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> <strong>Palettes qualitatives</strong></h3>
<p><strong>Tableau</strong></p>
<p><strong><a href="https://www.tableau.com/about/blog/2016/7/colors-upgrade-tableau-10-56782" class="uri">https://www.tableau.com/about/blog/2016/7/colors-upgrade-tableau-10-56782</a></strong></p>
<p><img src="imgp3/g7b.png" style="width:60.0%" /></p>
<p><strong>HUE</strong></p>
<ul>
<li>Il s’agit de la palette par défaut de ggplot2 (R)</li>
<li>De plus en plus remplacée par la palette Viridis (voir plus loin)</li>
</ul>
<p><img src="imgp3/g7c.png" style="width:60.0%" /></p>
</div>
<div id="palettes-séquentielles" class="section level3" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> <strong>Palettes séquentielles</strong></h3>
<ul>
<li>Utilisées massivement en cartographie et plus généralement pour représenter des fréquences (graphique type barre) ou des valeurs ordonnées</li>
<li>Couleurs allant du plus clair au plus foncé (ou inversement). – Modification de l’intensité d’une couleur. – Une ou plusieurs gammes de couleurs : par exemples du jaune au rouge, du jaune au bleu…</li>
</ul>
<p>En réduisant la taille de certaines palettes séquentielles ou divergentes, on peut obtenir une palette plutôt qualitative. C’est le cas de la collection, très en vogue, <em>Viridis</em>.</p>
<p><strong>Collection viridis</strong></p>
<ul>
<li>La palette <strong>Viridis</strong> et les ses palettes associées (plasma, magma, cividis…) est la palette “star” du moment.</li>
<li>Développée pour Python pour donner une palette alternative à <em>Matplotlib</em>, elle est devenue la palette par défaut de la librairie graphique</li>
<li>Avantages:
<ul>
<li>Même rendu, ou très proche, des couleurs sur toutes les parties d’un écran (uniformité).</li>
<li>Différences de couleurs maintenue à l’impression n&amp;b.</li>
<li>Gère la plupart des formes de daltonisme.<br />
</li>
</ul></li>
<li>Limites : pour les courbes, un fond blanc ou très clair ou un fond noir ou très foncé, les couleurs aux extrémités passent difficilement. Prévoir un fond gris moyen ou ne pas sélectionner les couleurs aux extrémités de la palette.</li>
<li>Les autres palettes : plasma est également très utilisée, en particulier pour le remplissage de surface (aire).</li>
<li>Plus d’infos : <strong><a href="https://rtask.thinkr.fr/fr/ggplot2-welcome-viridis/" class="uri">https://rtask.thinkr.fr/fr/ggplot2-welcome-viridis/</a></strong></li>
</ul>
<p><img src="imgp3/g7d.png" style="width:60.0%" /></p>
<p><img src="imgp3/g7e.png" style="width:60.0%" /></p>
<p><strong>Collection colorbrewer</strong></p>
<p>Très populaire en cartographie: <strong><a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3" class="uri">https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3</a></strong></p>
<p><img src="imgp3/g7f.png" style="width:60.0%" /></p>
<p>On présentera enfin une seule palette de type divergente, issue de cette collection, la palette <em>spectral</em>.</p>
<p><img src="imgp3/g7g.png" style="width:60.0%" /><br />
<br></p>
</div>
</div>
</div>
<div id="styles-thèmes" class="section level1" number="2">
<h1><span class="header-section-number">2</span> <strong>Styles-thèmes</strong></h1>
<p>Le thème est la « mise page » par défaut du graphique.</p>
<ul>
<li>Tous les graphiques ont un thème, appelé scheme qui paramètre tous les éléments composant le graphique : couleurs, épaisseurs, positions, contours, marges….</li>
<li>Les options entrées dans le graphique visent à modifier ce paramétrage.</li>
<li>Stata dispose de 11 thèmes internes, celui utilisé par défaut est s2color (factory scheme)</li>
<li>Sans modifier des options, un thème peut ne pas être adapté à un graphique.</li>
</ul>
<p><strong>Changement de thème</strong>:</p>
<ul>
<li>Par les boîtes de dialogue: « Edit » =&gt; « Préférences » =&gt; « Graph preferences ».</li>
<li>Par une ligne de commande:
<ul>
<li>On peut changer de thème en option d’un graphique : scheme(nom_scheme)</li>
<li>Dans un fichier .do ou .ado on peut charger un thème de façon temporaire (session) ou permanente: set scheme nom_scheme [,permanently]</li>
<li>Le choix du thème peut-être également intégré au fichier profile.do (charge le thème au début de chaque session</li>
</ul></li>
</ul>
<p><br></p>
<div id="styles-internes-externes" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> <strong>Styles internes-externes</strong></h2>
<p><strong>Styles internes</strong></p>
<p>Stata fournit 11 thèmes internes dont la liste peut être obtenue avec <code>help scheme</code>.</p>
<p><strong><em>Exemple de mise en page interne avec 4 de ces 11 thèmes</em></strong></p>
<p><img src="imgp3/g8.png" style="width:60.0%" /></p>
<p><strong>Styles externes</strong></p>
<p>Plusieurs thèmes et collection de thèmes externe peuvent être installées, comme les collections de <em>F.Briatte</em> (<strong><em>Burd</em></strong>) et de <em>D.Bischoff</em> (<strong><em>plottig</em></strong>, <strong><em>plotplainblind</em></strong>…). Récemment <em>A.Naqvi</em> a programmé une série de thèmes intéressante, nommée <strong><code>schemepack</code></strong>, qui proposent pour plusieurs palettes de couleurs 3 variations : <code>white_nompalette</code>, <code>black_nompalette</code> et <code>gg_nompalette</code>.</p>
<strong><em>Installation (version la plus récente)</em></strong>
<div class="grey">
<pre><code>net install schemepack,  from(&quot;https://raw.githubusercontent.com/asjadnaqvi/Stata-schemes/main/schemes/&quot;) replace

help schemepack </code></pre>
</div>
<p>Attention seulement une palette est de type qualitative (tableau), les autres séquentielles. L’utilisation des thèmes associés aux palettes séquentielles peuvent donner un rendu peu satisfaisant lorsque le nombre d’objets graphique réduit (par exemple 2 courbes). Il conviendra alors d’utiliser en amont colorpalette. Egalement, la position par défaut de la légende a été fixée à 3 heures ce qui n’est peut-être pas le plus judicieux.</p>
<p><strong><em>Exemple avec les thèmes white_tableau et white_viridis</em></strong> <img src="imgp3/g9a.png" style="width:60.0%" /></p>
<p>Les deux couleurs se distinguent difficilement avec la palette viridis. On peut corriger rapidement ce problème avec colorpalette.</p>
<div class="blue">
<pre><code>use uslifeexp, clear
colorpalette viridis, n(2) nograph
tw line le_wfemale le_wmale year, ///
fc(`r(p)&#39;) lc(`r(p)&#39;)  recast(area) scheme(white_viridis)</code></pre>
</div>
<p><img src="imgp3/g9b.png" style="width:60.0%" /></p>
<p><br></p>
</div>
<div id="grstyle-de-b.jann" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> <strong>grstyle de B.Jann</strong></h2>
<p>Parallèllement à colorpalette, B.Jann a mis à disposition un générateur de thème dont l’utilisation, à minima, me semble particulièrement efficace. Ici nous présenteront que les quelques options que j’utilise quasi exclusivement.</p>
<strong><em>Installation</em></strong>
<div class="grey">
<pre><code>ssc install grstyle</code></pre>
</div>
<p><strong>Initialisation et chargement</strong></p>
<ul>
<li>Dans un programme on initialise le générateur avec <strong><code>grstyle init</code></strong></li>
<li>On peut enregistrer un thème avec un nom: <strong><code>grstyle init nom_thème, [path] [replace]</code></strong></li>
<li>Si le thème a été enregistré, on peut le charger dans un graphique avec <code>scheme(nom_scheme)</code> ou avec la commande <code>set scheme</code>. Lors de sa création, le thème est chargé pendant la session.</li>
<li>Les modifications de l’habillage et de la mise en page du graphique se fait avec une série de commandes préfixées par <strong><code>grstyle set [legend/color….]</code></strong>.</li>
</ul>
<p><strong>Background du graphique, grid, légende</strong></p>
<p>grstyle propose 3 options pour le background et le quadrillage : plain, mesh et imesh. Par exemples avec quelques sous options supplémentaires:</p>
<ul>
<li><code>grstyle set plain, horizontal compact</code></li>
<li><code>grstyle set mesh,  horizontal compact</code></li>
<li><code>grstyle set imesh, horizontal compact</code></li>
</ul>
<p><strong>Légende ( position et retirer le contour)</strong><br />
On peut retirer facilement le contour de la légende (on allège ainsi les options du graphique) avec nobox. En positionnant la légende à 11 heures</p>
<ul>
<li><code>grstyle set legend 11 , nobox</code></li>
</ul>
<table>
<tr>
<td>
<img src=imgp3/g12a.png>
</td>
<td>
<img src=imgp3/g12b.png>
</td>
<td>
<img src=imgp3/g12c.png>
</td>
<tr>
</table>
<p><strong>Couleurs</strong></p>
<p>Même syntaxe que <code>colorpalette</code>, ici on associe le choix de la palette de couleurs à <strong><code>grstyle set color</code></strong> Avec la palette <em>viridis</em> réduite à deux couleurs, par exemple avec <code>select(1 11)</code></p>
<ul>
<li><strong><code>grstyle set color viridis, select(1 11)</code></strong></li>
</ul>
<p><strong><em>Exemple avec le fond de type mesh, la légende à 11 heures sans contour et une sélection de deux couleurs de la palette viridis</em></strong></p>
<p><img src="imgp3/g11.png" style="width:60.0%" /></p>
<div class="blue">
<pre><code>webuse set https://github.com/mthevenin/stata_graphiques/tree/main/bases
use pingouin, replace
webuse set

grstyle init
grstyle set mesh, horizontal compact 
grstyle set legend 11, nobox 
grstyle set color plasma, select(6 9 12 6 9 12)

local osl  lw(*1.2)
local osca   msize(*.8) msymbol(+)  

#delimit ;
tw sca    bill_length_mm  flipper_length_mm if espèce==1,  jitter(3) `osca&#39;           
|| sca    bill_length_mm  flipper_length_mm if espèce==2,  jitter(3) `osca&#39; 
|| sca    bill_length_mm  flipper_length_mm if espèce==3,  jitter(3) `osca&#39; 
|| lowess bill_length_mm  flipper_length_mm if espèce==1,   `osl&#39;        
|| lowess bill_length_mm  flipper_length_mm if espèce==2,   `osl&#39;  
|| lowess bill_length_mm  flipper_length_mm if espèce==3, `osl&#39;                          
      
|| , legend(order(1 &quot;Pingouin Adélie&quot; 2 &quot;Manchot à jugulaire&quot; 3 &quot;Manchot papou&quot;) row(1))
     ytitle(&quot;Longueur bec (mm)&quot;) xtitle(&quot;Longueur nageoire (mm)&quot;)
     title(&quot;Longueurs du bec et des nageoires&quot;)
;

#delimit cr</code></pre>
</div>
<p>Plus qu’un générateur de thème, une utilisation minimale <code>grstyle</code> permet de paramétrer des options en amont du graphique et donc d’alleger sensiblement son programme et faciliter ses modifications.</p>
</div>
</div>
</div>

   
   
              </div>
  </div>
  </div>
  </div>
   
      

  <script>
    $(document).ready(function () {

		// add bootstrap table styles to pandoc tables
	$('tr.header').parent('thead').parent('table').addClass('table table-condensed');
		
 		
	    });
  </script>



    <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
	var script = document.createElement("script");
	script.type = "text/javascript";
	script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
	document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>
  
</body>
</html>
