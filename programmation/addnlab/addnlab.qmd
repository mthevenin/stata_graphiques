---
title: "addnlab"
author: "Marc Thévenin"
categories:
  - ado
  - labels
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
options(Encoding="UTF-8")
library(Statamarkdown)
stataexe <- "C:/Program Files/Stata17/StataSE-64.exe"
knitr::opts_chunk$set(engine.path=list(stata=stataexe))
```


Une petite commande sans grande prétention, mais peut-être utile.

* Permet d'ajouter sur l'axe discret d'un graphique, le nombre d'observations de chaque modalité
* On peut également l'utiliser, avec une manipulation supplémentaire, pour les modèles

**Installation**

```{stata, eval=F}
net install addnlab, from("https://raw.githubusercontent.com/mthevenin/stata_graphiques/master/ressources/addnlab/") replace
```

**Syntaxe**

```{stata, eval=F}
addnlab varlist  [if/in] , [back]
```

* On ne peut pas exécuter deux fois de suite si au moins une variable dans la liste à déjà les effectifs affecter au label.
* On revient au label d'origine en ajoutant l'option back

**Exemple Graphique**

```{stata, eval=F}
sysuse nlsw88, clear
recode occupation (9 10 11 12 = 13 )

addnlab  occupation 
gridge wage, over(occupation) sortrev(mean) range(0 50) palette(flare) bw(.5)
addnlab  occupation, back
```

![](g1.png){width=70%}





**Exemple régression**

Voir exemple [ici](https://github.com/mthevenin/stata_graphiques/blob/main/ressources/addnlab/readme.md)



